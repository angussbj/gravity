(this.webpackJsonpgravity=this.webpackJsonpgravity||[]).push([[0],{107:function(t,e,n){},119:function(t,e,n){},124:function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i),o=n(24),a=n.n(o),c=(n(107),n(14)),u=n(15),s=n(9),l=n(18),d=n(8);function b(t){var e=t.points,n=t.color,r=void 0===n?l.b.random():n,o=Object(i.useRef)(new s.BufferGeometry).current;return o.setFromPoints(e),Object(d.jsx)("line_",{geometry:o,children:Object(d.jsx)("lineBasicMaterial",{attach:"material",color:r.toString(),linewidth:10,linecap:"round",linejoin:"round"})})}Object(u.h)({Line_:s.Line});var j=n(27);function v(){var t=Object(j.useUniverse)();return Object(d.jsx)(d.Fragment,{children:t.state.map((function(t){return Object(d.jsx)(b,{points:t.path,color:t.color},t.id)}))})}var f=n(56),h=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("ambientLight",{intensity:1})})},O=n(144);function x(t){var e=t.children;return Object(d.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0},children:Object(d.jsxs)(f.a,{style:{background:l.b.BLACK.toString()},camera:{position:[0,5,0]},shadows:!0,children:[Object(d.jsx)("gridHelper",{args:[20,20]}),Object(d.jsx)(h,{}),e,Object(d.jsx)(O.a,{autoRotate:!1})]})})}var p=n(21),g=n(22),m=n(94),y=n(47),S=n(35),w=n(32),C=n(39);function k(t){var e,n,i=t.label,r=t.value,o=t.onChange,a=t.style;return Object(d.jsxs)(w.a,{style:a,children:[Object(d.jsx)(C.a,{label:i}),Object(d.jsx)(S.a,{value:r,onChange:o,style:{width:null!==(e=null===a||void 0===a?void 0:a.width)&&void 0!==e?e:62,maxWidth:null!==(n=null===a||void 0===a?void 0:a.width)&&void 0!==n?n:62}})]})}var I,L=n(37),B=n(142),z=n(93);function E(t){var e=t.bodyId,n=t.style,r=Object(j.useUniverse)(),o=Object(i.useCallback)((function(){r.removeBody(e),r.update()}),[r]);return Object(d.jsx)(L.a,{onClick:o,style:n,children:Object(d.jsx)(B.a,{title:"Remove body",children:Object(d.jsx)("div",{children:Object(d.jsx)(z.c,{size:16})})})})}function U(t){var e,n=t.body,i=t.index,r=Object(j.useUniverse)();return Object(d.jsxs)(T,{children:[Object(d.jsxs)(l.d,{style:{justifyContent:"space-between"},children:[Object(d.jsxs)(l.d,{children:[Object(d.jsx)(k,{label:"Name",value:null!==(e=n.name)&&void 0!==e?e:"Body ".concat(i+1),onChange:function(t){n.name=t,r.setInitialName(n.id,t),r.render()}}),Object(d.jsx)(l.a,{label:"Color",value:n.color,onChange:function(t){n.color=t,r.setInitialColor(n.id,t),r.render()}})]}),Object(d.jsx)(E,{bodyId:n.id})]}),Object(d.jsx)(l.e,{label:"Position",value:n.x,onSubmitOrBlur:r.update}),Object(d.jsx)(l.e,{label:"Velocity",value:n.v,onSubmitOrBlur:r.update}),Object(d.jsx)(l.c,{label:"Mass",value:n.m,onSubmitOrBlur:function(t){r.setInitialMass(n.id,t),r.update()}})]})}var F,H,T=g.a.div(I||(I=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin-left: 8px;\n"])));function D(){var t=Object(j.useUniverse)(),e=Object(i.useCallback)((function(){t.addBody(),t.update()}),[]);return Object(d.jsx)(L.a,{onClick:e,style:{},children:Object(d.jsx)(B.a,{title:"Add new body",children:Object(d.jsx)("div",{children:Object(d.jsx)(z.a,{})})})})}function P(){var t=Object(j.useUniverse)();return Object(d.jsxs)(V,{style:{color:l.b.LIGHT.toString(),fontSize:12},children:["Initial state:",t.state.map((function(t,e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(U,{body:t,index:e},t.id),Object(d.jsx)(W,{},t.id+"s")]})})),Object(d.jsx)(D,{})]})}var G,R,V=g.a.div(F||(F=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),W=g.a.div(H||(H=Object(p.a)(["\n  border-bottom: 1px solid ",";\n  align-self: stretch;\n  margin-left: 40px;\n  margin-right: 40px;\n"])),l.b.LIGHT.fade(.5).toString());function M(){var t=Object(j.useUniverse)();return Object(d.jsxs)(K,{style:{color:l.b.LIGHT.toString(),fontSize:12},children:["Path extrapolation parameters:",Object(d.jsxs)(N,{children:[Object(d.jsx)(l.c,{label:"Step count",value:t.pathingDepth,onSubmitOrBlur:function(e){t.pathingDepth=e,t.update()}}),Object(d.jsx)(l.c,{label:"Step size",value:t.pathingStepSize,onSubmitOrBlur:function(e){t.pathingStepSize=e,t.update()}})]})]})}var A,K=g.a.div(G||(G=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),N=Object(g.a)(l.d)(R||(R=Object(p.a)(["\n  gap: 4px;\n  margin-left: 8px;\n"])));function J(){var t=Object(y.b)().height,e=Object(i.useState)(!0),n=Object(c.a)(e,2),r=n[0],o=n[1];return r?Object(d.jsxs)(_,{style:{maxHeight:t-88},children:[Object(d.jsx)(L.a,{onClick:function(){return o(!1)},style:{position:"absolute",top:0,right:0},children:Object(d.jsx)(z.b,{})}),Object(d.jsx)(P,{}),Object(d.jsx)(M,{})]}):Object(d.jsx)(L.a,{onClick:function(){return o(!0)},style:{position:"absolute",top:16,right:16},children:Object(d.jsx)(m.a,{})})}var _=g.a.div(A||(A=Object(p.a)(["\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  width: 240px;\n  min-height: 100px;\n  background-color: ",";\n  border: 1px solid ",";\n  overflow-y: auto;\n  overflow-x: auto;\n  scroll-behaviour: smooth;\n  padding: 12px;\n  padding-bottom: 40px;\n  padding-top: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 32px;\n"])),l.b.DARK.toString(),l.b.LIGHT.toString());var X=function(){var t=Object(i.useState)(!1),e=Object(c.a)(t,2),n=(e[0],e[1]),r=Object(i.useCallback)((function(){return n((function(t){return!t}))}),[]),o=Object(i.useState)((function(){return new j.Universe(r)})),a=Object(c.a)(o,1)[0];return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(j.UniverseContextProvider,{universe:a,children:[Object(d.jsx)(x,{children:Object(d.jsx)(v,{})}),Object(d.jsx)(J,{})]})})};a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(X,{})}),document.getElementById("root"))},18:function(t,e,n){"use strict";n.d(e,"b",(function(){return o.a})),n.d(e,"a",(function(){return O})),n.d(e,"e",(function(){return w})),n.d(e,"c",(function(){return C})),n.d(e,"d",(function(){return y}));var i,r,o=n(33),a=n(21),c=n(14),u=n(1),s=n(32),l=n(39),d=n(41),b=n.n(d),j=n(90),v=n(22),f=n(37),h=n(8);function O(t){var e=t.label,n=t.value,i=t.onChange,r=t.style,o=Object(u.useState)(!1),a=Object(c.a)(o,2),d=a[0],v=a[1],O=Object(u.useRef)(null);return Object(u.useEffect)((function(){var t=function(t){"Escape"===t.key&&v(!1)};window.addEventListener("keydown",t);var e=function(t){O.current&&!O.current.contains(t.target)&&v(!1)};return window.addEventListener("mousedown",e),function(){window.removeEventListener("keydown",t),window.removeEventListener("mousedown",e)}}),[O,v]),Object(h.jsxs)(s.a,{style:r,children:[Object(h.jsx)(l.a,{label:e}),Object(h.jsx)(f.a,{onClick:function(){return v((function(t){return!t}))},children:Object(h.jsx)(p,{style:{backgroundColor:n.toString()}})}),Object(h.jsx)(g,{children:d&&Object(h.jsx)("div",{ref:O,style:{position:"absolute",left:-60,zIndex:1},children:Object(h.jsx)(j.a,{color:n.hex(),onChange:function(t){t.includes("NaN")||i(b()(t))}})})})]})}var x,p=v.a.div(i||(i=Object(a.a)(["\n  width: 12px;\n  height: 12px;\n"]))),g=v.a.div(r||(r=Object(a.a)(["\n  width: 1px;\n  height: 1px;\n  overflow: visible;\n  position: relative;\n"]))),m=n(35),y=v.a.div(x||(x=Object(a.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"])));function S(t){if(!t)return t;var e="-"===t[0],n=t.replace(/[^0-9.]/g,"").split(".");return(e?"-":"")+(n.length>=2?n[0]+"."+n.slice(1).join(""):n[0])}function w(t){var e=t.label,n=t.value,i=t.onSubmitOrBlur,r=t.style,o=Object(u.useState)(n.x.toString()),a=Object(c.a)(o,2),d=a[0],b=a[1],j=Object(u.useState)(n.y.toString()),v=Object(c.a)(j,2),f=v[0],O=v[1],x=Object(u.useState)(n.z.toString()),p=Object(c.a)(x,2),g=p[0],w=p[1];Object(u.useEffect)((function(){d!=n.x.toString()&&b(n.x.toString()),f!=n.y.toString()&&O(n.y.toString()),g!=n.z.toString()&&w(n.z.toString())}),[n.x,n.y,n.z]);var C=Object(u.useCallback)((function(){b(d||"0"),O(f||"0"),w(g||"0"),n.setX(parseFloat(d||"0")),n.setY(parseFloat(f||"0")),n.setZ(parseFloat(g||"0")),i(n)}),[n,d,f,g,b,O,w]);return Object(h.jsxs)(s.a,{style:r,children:[Object(h.jsx)(l.a,{label:e+" (x, y, z)"}),Object(h.jsxs)(y,{children:[Object(h.jsx)(m.a,{value:d,onChange:function(t){b(S(t))},onSubmit:C,onBlur:C,style:{width:62,maxWidth:62}}),Object(h.jsx)(m.a,{value:f,onChange:function(t){O(S(t))},onSubmit:C,onBlur:C,style:{marginLeft:4,width:62,maxWidth:62}}),Object(h.jsx)(m.a,{value:g,onChange:function(t){w(S(t))},onSubmit:C,onBlur:C,style:{marginLeft:4,width:62,maxWidth:62}})]})]})}function C(t){var e,n,i=t.label,r=t.value,o=t.onSubmitOrBlur,a=t.style,d=Object(u.useState)(r.toString()),b=Object(c.a)(d,2),j=b[0],v=b[1];Object(u.useEffect)((function(){j!=r.toString()&&v(r.toString())}),[r]);var f=Object(u.useCallback)((function(){v(j||"0"),o(parseFloat(j||"0"))}),[r,j,v]);return Object(h.jsxs)(s.a,{style:a,children:[Object(h.jsx)(l.a,{label:i}),Object(h.jsx)(m.a,{value:j,onChange:function(t){v(S(t))},onSubmit:f,onBlur:f,style:{width:null!==(e=null===a||void 0===a?void 0:a.width)&&void 0!==e?e:62,maxWidth:null!==(n=null===a||void 0===a?void 0:a.width)&&void 0!==n?n:62}})]})}},27:function(t,e,n){"use strict";var i=n(81);n.o(i,"Universe")&&n.d(e,"Universe",(function(){return i.Universe})),n.o(i,"UniverseContextProvider")&&n.d(e,"UniverseContextProvider",(function(){return i.UniverseContextProvider})),n.o(i,"useUniverse")&&n.d(e,"useUniverse",(function(){return i.useUniverse}));var r=n(55);n.d(e,"Universe",(function(){return r.a}));var o=n(82);n.d(e,"UniverseContextProvider",(function(){return o.a})),n.d(e,"useUniverse",(function(){return o.b}))},32:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i,r=n(21),o=n(22).a.div(i||(i=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n"])))},33:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(41),r=n.n(i),o=n(47),a={BLACK:r()("#000000"),DARK:r()("#101113"),LIGHT:r()("#DCDDDF"),WHITE:r()("#FFFFFF"),random:function(){return r.a.hsv(Object(o.a)(0,360),Object(o.a)(50,100),Object(o.a)(50,100))}}},35:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(11),r=n(1),o=(n(119),n(33)),a=n(8);function c(t){var e=t.value,n=t.onChange,c=t.style,u=t.focusFirstRender,s=t.onSubmit,l=t.onBlur,d=t.ariaLabel,b=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t;u&&(null===(t=b.current)||void 0===t||t.focus())}),[]),Object(a.jsx)("input",{ref:b,value:e,className:"input",onChange:function(t){n(t.target.value)},onBlur:l,onKeyDown:function(t){"Enter"===t.key&&(null===s||void 0===s||s())},"aria-label":d,style:Object(i.a)({flex:1,backgroundColor:o.a.DARK.toString(),borderColor:o.a.LIGHT.fade(.5).toString(),color:o.a.LIGHT.toString()},c)})}},37:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(11),r=n(14),o=n(28),a=n(1),c=n(143);var u=n(33),s=n(8);function l(t){var e=t.color,n=void 0===e?u.a.LIGHT:e,l=t.disabled,d=t.style,b=t.children,j=Object(o.a)(t,["color","disabled","style","children"]),v=function(){var t=Object(a.useState)(!1),e=Object(r.a)(t,2),n=e[0],i=e[1],o=Object(a.useRef)(null),c=function(){return i(!0)},u=function(){return i(!1)};return Object(a.useEffect)((function(){var t=o.current;if(t)return t.addEventListener("mouseover",c),t.addEventListener("mouseout",u),function(){t.removeEventListener("mouseover",c),t.removeEventListener("mouseout",u)}}),[]),[o,n]}(),f=Object(r.a)(v,2),h=f[0],O=f[1],x=l?.4:O?.15:0;return Object(s.jsx)(c.a,Object(i.a)(Object(i.a)({style:Object(i.a)({color:null===n||void 0===n?void 0:n.fade(x).toString()},d),ref:h,disabled:l},j),{},{children:b}))}},39:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i,r=n(21),o=(n(1),n(22)),a=n(33),c=n(8);function u(t){var e=t.label;return e?Object(c.jsx)(s,{children:e}):null}var s=o.a.div(i||(i=Object(r.a)(["\n  color: ",";\n  font-size: 10px;\n"])),a.a.LIGHT.toString())},47:function(t,e,n){"use strict";function i(t,e){return Math.floor(Math.random()*(e-t)+t)}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r=n(14),o=n(1);function a(){var t=Object(o.useState)({width:window.innerWidth,height:window.innerHeight}),e=Object(r.a)(t,2),n=e[0],i=e[1];return Object(o.useEffect)((function(){function t(){i({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),n}},55:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(11),r=n(2),o=n(5),a=n(9),c=n(91),u=n(18),s=function(){function t(e){Object(r.a)(this,t),this.render=e,this.state0=[],this.state=[],this.t=0,this.pathingDepth=5e3,this.pathingStepSize=.001,this.bodyIdCounter=0,this.addBody({x0:new a.Vector3(0,0,0),v0:new a.Vector3(0,0,-.12),m:100}),this.addBody({x0:new a.Vector3(2.03,0,0),v0:new a.Vector3(0,3,6),m:1}),this.addBody({x0:new a.Vector3(1.97,0,0),v0:new a.Vector3(0,-3,6),m:1}),this.setToInitialState(),this.calculatePaths(),Object(c.a)(this)}return Object(o.a)(t,[{key:"addBody",value:function(t){this.state0.push(Object(i.a)(Object(i.a)({color:u.b.random()},t||{x0:new a.Vector3(0,0,0),v0:new a.Vector3(0,0,0),m:0}),{},{id:"b".concat(this.bodyIdCounter)})),this.bodyIdCounter+=1}},{key:"removeBody",value:function(t){this.state0=this.state0.filter((function(e){return e.id!==t}))}},{key:"setInitialMass",value:function(t,e){var n=this.state0.find((function(e){return e.id===t}));n&&(n.m=e)}},{key:"setInitialName",value:function(t,e){var n=this.state0.find((function(e){return e.id===t}));n&&(n.name=e)}},{key:"setInitialColor",value:function(t,e){var n=this.state0.find((function(e){return e.id===t}));n&&(n.color=e)}},{key:"update",value:function(){this.setToInitialState(),this.calculatePaths(),this.render()}},{key:"setToInitialState",value:function(){this.state=this.state0.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{x:t.x0,v:t.v0,path:[t.x0]})}))}},{key:"calculatePaths",value:function(){for(var t,e,n=this.state.map((function(t){return{x:t.x.clone(),v:t.v.clone(),m:t.m}})),i=new a.Vector3(0,0,0),r=0;r<this.pathingDepth;r++){for(var o=0;o<n.length;o++)for(var c=o+1;c<n.length;c++)i.copy(n[c].x).sub(n[o].x),0!=(e=i.length())&&(t=1*this.pathingStepSize/(e*e),i.normalize().multiplyScalar(t*n[c].m),n[o].v.add(i),i.normalize().multiplyScalar(-t*n[o].m),n[c].v.add(i));for(var u=0;u<n.length;u++)i.copy(n[u].v).multiplyScalar(this.pathingStepSize),n[u].x.add(i),this.state[u].path.push(n[u].x.clone())}}}]),t}()},81:function(t,e){},82:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var i=n(1),r=n(55),o=n(8),a=Object(i.createContext)(new r.a((function(){})));function c(t){var e=t.children,n=t.universe;return Object(o.jsx)(a.Provider,{value:n,children:e})}function u(){return Object(i.useContext)(a)}}},[[124,1,2]]]);
//# sourceMappingURL=main.7ef643af.chunk.js.map