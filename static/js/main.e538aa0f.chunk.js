(this.webpackJsonpgravity=this.webpackJsonpgravity||[]).push([[0],{107:function(e,t,n){},115:function(e,t,n){},120:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),o=n(24),a=n.n(o),c=(n(107),n(14)),s=n(15),u=n(9),l=n(18),d=n(7);function b(e){var t=e.points,n=e.color,r=void 0===n?l.c.random():n,o=Object(i.useRef)(new u.BufferGeometry).current;return o.setFromPoints(t),Object(d.jsx)("line_",{geometry:o,children:Object(d.jsx)("lineBasicMaterial",{attach:"material",color:r.toString(),linewidth:10,linecap:"round",linejoin:"round"})})}Object(s.h)({Line_:u.Line});var j=n(27);function f(){var e=Object(j.useUniverse)();return Object(d.jsx)(d.Fragment,{children:e.state.map((function(e){return Object(d.jsx)(b,{points:e.path,color:e.color},e.id)}))})}var v=n(56),h=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("ambientLight",{intensity:1})})},O=n(145);function x(e){var t=e.children;return Object(d.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0},children:Object(d.jsxs)(v.a,{style:{background:l.c.BLACK.toString()},camera:{position:[0,5,0]},shadows:!0,children:[Object(d.jsx)("gridHelper",{args:[20,20]}),Object(d.jsx)(h,{}),t,Object(d.jsx)(O.a,{autoRotate:!1})]})})}var p=n(21),g=n(22),m=n(94),y=n(47),S=n(36),w=n(30),C=n(34);function k(e){var t,n,i=e.label,r=e.value,o=e.onChange,a=e.style;return Object(d.jsxs)(w.a,{style:a,children:[Object(d.jsx)(C.a,{label:i}),Object(d.jsx)(S.a,{value:r,onChange:o,style:{width:null!==(t=null===a||void 0===a?void 0:a.width)&&void 0!==t?t:62,maxWidth:null!==(n=null===a||void 0===a?void 0:a.width)&&void 0!==n?n:62}})]})}var L,B=n(38),I=n(143),F=n(93);function E(e){var t=e.bodyId,n=e.style,r=Object(j.useUniverse)(),o=Object(i.useCallback)((function(){r.removeBody(t),r.update()}),[r]);return Object(d.jsx)(B.a,{onClick:o,style:n,children:Object(d.jsx)(I.a,{title:"Remove body",children:Object(d.jsx)("div",{children:Object(d.jsx)(F.c,{size:16})})})})}function z(e){var t,n=e.body,i=e.index,r=Object(j.useUniverse)();return Object(d.jsxs)(T,{children:[Object(d.jsxs)(l.e,{style:{justifyContent:"space-between"},children:[Object(d.jsxs)(l.e,{style:{gap:4},children:[Object(d.jsx)(k,{label:"Name",value:null!==(t=n.name)&&void 0!==t?t:"Body ".concat(i+1),onChange:function(e){n.name=e,r.setInitial("name",n.id,e),r.render()}}),Object(d.jsx)(l.b,{label:"Color",value:n.color,onChange:function(e){n.color=e,r.setInitial("color",n.id,e),r.render()}})]}),Object(d.jsx)(E,{bodyId:n.id})]}),Object(d.jsx)(l.f,{label:"Position",value:n.x,onSubmitOrBlur:r.update}),Object(d.jsx)(l.f,{label:"Velocity",value:n.v,onSubmitOrBlur:r.update}),Object(d.jsxs)(l.e,{style:{gap:4},children:[Object(d.jsx)(l.d,{label:"Mass",value:n.m,onSubmitOrBlur:function(e){r.setInitial("m",n.id,e),r.update()}}),Object(d.jsx)(I.a,{title:"The frame of reference follows the center of mass of selected bodies",enterDelay:600,enterNextDelay:400,children:Object(d.jsx)("div",{children:Object(d.jsx)(l.a,{label:"Frame",value:n.frameFollows,onChange:function(e){r.setInitial("frameFollows",n.id,e),r.update()}})})})]})]})}var U,D,T=g.a.div(L||(L=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin-left: 8px;\n"])));function H(){var e=Object(j.useUniverse)(),t=Object(i.useCallback)((function(){e.addBody(),e.update()}),[]);return Object(d.jsx)(B.a,{onClick:t,style:{},children:Object(d.jsx)(I.a,{title:"Add new body",children:Object(d.jsx)("div",{children:Object(d.jsx)(F.a,{})})})})}function G(){var e=Object(j.useUniverse)();return Object(d.jsxs)(V,{style:{color:l.c.LIGHT.toString(),fontSize:12},children:["Initial state:",e.state.map((function(e,t){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(z,{body:e,index:t},e.id),Object(d.jsx)(W,{},e.id+"separator")]})})),Object(d.jsx)(H,{},"add_body")]})}var R,P,V=g.a.div(U||(U=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),W=g.a.div(D||(D=Object(p.a)(["\n  border-bottom: 1px solid ",";\n  align-self: stretch;\n  margin-left: 40px;\n  margin-right: 40px;\n"])),l.c.LIGHT.fade(.5).toString());function A(){var e=Object(j.useUniverse)();return Object(d.jsxs)(M,{style:{color:l.c.LIGHT.toString(),fontSize:12},children:["Path extrapolation parameters:",Object(d.jsxs)(N,{children:[Object(d.jsx)(l.d,{label:"Step count",value:e.pathingDepth,onSubmitOrBlur:function(t){e.pathingDepth=t,e.update()}}),Object(d.jsx)(l.d,{label:"Step size",value:e.pathingStepSize,onSubmitOrBlur:function(t){e.pathingStepSize=t,e.update()}})]})]})}var K,M=g.a.div(R||(R=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),N=Object(g.a)(l.e)(P||(P=Object(p.a)(["\n  gap: 4px;\n  margin-left: 8px;\n"])));function _(){var e=Object(y.b)().height,t=Object(i.useState)(!0),n=Object(c.a)(t,2),r=n[0],o=n[1];return r?Object(d.jsxs)(Y,{style:{maxHeight:e-88},children:[Object(d.jsx)(B.a,{onClick:function(){return o(!1)},style:{position:"absolute",top:0,right:0},children:Object(d.jsx)(F.b,{})}),Object(d.jsx)(G,{}),Object(d.jsx)(A,{})]}):Object(d.jsx)(B.a,{onClick:function(){return o(!0)},style:{position:"absolute",top:16,right:16},children:Object(d.jsx)(m.a,{})})}var Y=g.a.div(K||(K=Object(p.a)(["\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  width: 240px;\n  min-height: 100px;\n  background-color: ",";\n  border: 1px solid ",";\n  overflow-y: auto;\n  overflow-x: auto;\n  scroll-behaviour: smooth;\n  padding: 12px;\n  padding-bottom: 40px;\n  padding-top: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 32px;\n"])),l.c.DARK.toString(),l.c.LIGHT.toString());var J=function(){var e=Object(i.useState)(!1),t=Object(c.a)(e,2),n=(t[0],t[1]),r=Object(i.useCallback)((function(){return n((function(e){return!e}))}),[]),o=Object(i.useState)((function(){return new j.Universe(r)})),a=Object(c.a)(o,1)[0];return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(j.UniverseContextProvider,{universe:a,children:[Object(d.jsx)(x,{children:Object(d.jsx)(f,{})}),Object(d.jsx)(_,{})]})})};a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(J,{})}),document.getElementById("root"))},18:function(e,t,n){"use strict";n.d(t,"c",(function(){return i.a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return x})),n.d(t,"f",(function(){return C})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return S}));var i=n(31),r=n(1),o=(n(115),n(30)),a=n(34),c=n(7);function s(e){var t=e.label,n=e.value,r=e.onChange,s=e.style;return Object(c.jsxs)(o.a,{style:s,children:[Object(c.jsx)(a.a,{label:t}),Object(c.jsx)("input",{type:"checkbox",checked:n,onChange:function(e){return r(e.target.checked)},style:{backgroundColor:i.a.DARK.toString(),color:"red",accentColor:"green"}})]})}var u,l,d=n(21),b=n(14),j=n(39),f=n.n(j),v=n(90),h=n(22),O=n(38);function x(e){var t=e.label,n=e.value,i=e.onChange,s=e.style,u=Object(r.useState)(!1),l=Object(b.a)(u,2),d=l[0],j=l[1],h=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=function(e){"Escape"===e.key&&j(!1)};window.addEventListener("keydown",e);var t=function(e){h.current&&!h.current.contains(e.target)&&j(!1)};return window.addEventListener("mousedown",t),function(){window.removeEventListener("keydown",e),window.removeEventListener("mousedown",t)}}),[h,j]),Object(c.jsxs)(o.a,{style:s,children:[Object(c.jsx)(a.a,{label:t}),Object(c.jsx)(O.a,{onClick:function(){return j((function(e){return!e}))},style:{marginBottom:-8,marginTop:-4,marginLeft:-4},children:Object(c.jsx)(g,{style:{backgroundColor:n.toString()}})}),Object(c.jsx)(m,{children:d&&Object(c.jsx)("div",{ref:h,style:{position:"absolute",left:-60,zIndex:1},children:Object(c.jsx)(v.a,{color:n.hex(),onChange:function(e){e.includes("NaN")||i(f()(e))}})})})]})}var p,g=h.a.div(u||(u=Object(d.a)(["\n  width: 12px;\n  height: 12px;\n"]))),m=h.a.div(l||(l=Object(d.a)(["\n  width: 1px;\n  height: 1px;\n  overflow: visible;\n  position: relative;\n"]))),y=n(36),S=h.a.div(p||(p=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"])));function w(e){if(!e)return e;var t="-"===e[0],n=e.replace(/[^0-9.]/g,"").split(".");return(t?"-":"")+(n.length>=2?n[0]+"."+n.slice(1).join(""):n[0])}function C(e){var t=e.label,n=e.value,i=e.onSubmitOrBlur,s=e.style,u=Object(r.useState)(n.x.toString()),l=Object(b.a)(u,2),d=l[0],j=l[1],f=Object(r.useState)(n.y.toString()),v=Object(b.a)(f,2),h=v[0],O=v[1],x=Object(r.useState)(n.z.toString()),p=Object(b.a)(x,2),g=p[0],m=p[1];Object(r.useEffect)((function(){d!=n.x.toString()&&j(n.x.toString()),h!=n.y.toString()&&O(n.y.toString()),g!=n.z.toString()&&m(n.z.toString())}),[n.x,n.y,n.z]);var C=Object(r.useCallback)((function(){j(d||"0"),O(h||"0"),m(g||"0"),n.setX(parseFloat(d||"0")),n.setY(parseFloat(h||"0")),n.setZ(parseFloat(g||"0")),i(n)}),[n,d,h,g,j,O,m]);return Object(c.jsxs)(o.a,{style:s,children:[Object(c.jsx)(a.a,{label:t+" (x, y, z)"}),Object(c.jsxs)(S,{children:[Object(c.jsx)(y.a,{value:d,onChange:function(e){j(w(e))},onSubmit:C,onBlur:C,style:{width:62,maxWidth:62}}),Object(c.jsx)(y.a,{value:h,onChange:function(e){O(w(e))},onSubmit:C,onBlur:C,style:{marginLeft:4,width:62,maxWidth:62}}),Object(c.jsx)(y.a,{value:g,onChange:function(e){m(w(e))},onSubmit:C,onBlur:C,style:{marginLeft:4,width:62,maxWidth:62}})]})]})}function k(e){var t,n,i=e.label,s=e.value,u=e.onSubmitOrBlur,l=e.style,d=Object(r.useState)(s.toString()),j=Object(b.a)(d,2),f=j[0],v=j[1];Object(r.useEffect)((function(){f!=s.toString()&&v(s.toString())}),[s]);var h=Object(r.useCallback)((function(){v(f||"0"),u(parseFloat(f||"0"))}),[s,f,v]);return Object(c.jsxs)(o.a,{style:l,children:[Object(c.jsx)(a.a,{label:i}),Object(c.jsx)(y.a,{value:f,onChange:function(e){v(w(e))},onSubmit:h,onBlur:h,style:{width:null!==(t=null===l||void 0===l?void 0:l.width)&&void 0!==t?t:62,maxWidth:null!==(n=null===l||void 0===l?void 0:l.width)&&void 0!==n?n:62}})]})}},27:function(e,t,n){"use strict";var i=n(81);n.o(i,"Universe")&&n.d(t,"Universe",(function(){return i.Universe})),n.o(i,"UniverseContextProvider")&&n.d(t,"UniverseContextProvider",(function(){return i.UniverseContextProvider})),n.o(i,"useUniverse")&&n.d(t,"useUniverse",(function(){return i.useUniverse}));var r=n(55);n.d(t,"Universe",(function(){return r.a}));var o=n(82);n.d(t,"UniverseContextProvider",(function(){return o.a})),n.d(t,"useUniverse",(function(){return o.b}))},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i,r=n(21),o=n(22).a.div(i||(i=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n"])))},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(39),r=n.n(i),o=n(47),a={BLACK:r()("#000000"),DARK:r()("#101113"),LIGHT_GREY:r()("#8C8D8F"),LIGHT:r()("#DCDDDF"),WHITE:r()("#FFFFFF"),random:function(){return r.a.hsv(Object(o.a)(0,360),Object(o.a)(50,100),Object(o.a)(50,100))}}},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i,r=n(21),o=(n(1),n(22)),a=n(31),c=n(7);function s(e){var t=e.label;return t?Object(c.jsx)(u,{children:t}):null}var u=o.a.div(i||(i=Object(r.a)(["\n  color: ",";\n  font-size: 10px;\n"])),a.a.LIGHT.toString())},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(11),r=n(1),o=(n(120),n(31)),a=n(7);function c(e){var t=e.value,n=e.onChange,c=e.style,s=e.focusFirstRender,u=e.onSubmit,l=e.onBlur,d=e.ariaLabel,b=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e;s&&(null===(e=b.current)||void 0===e||e.focus())}),[]),Object(a.jsx)("input",{ref:b,value:t,className:"input",onChange:function(e){n(e.target.value)},onBlur:l,onKeyDown:function(e){"Enter"===e.key&&(null===u||void 0===u||u())},"aria-label":d,style:Object(i.a)({flex:1,backgroundColor:o.a.DARK.toString(),borderColor:o.a.LIGHT_GREY.toString(),color:o.a.LIGHT.toString()},c)})}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(11),r=n(14),o=n(28),a=n(1),c=n(144);var s=n(31),u=n(7);function l(e){var t=e.color,n=void 0===t?s.a.LIGHT:t,l=e.disabled,d=e.style,b=e.children,j=Object(o.a)(e,["color","disabled","style","children"]),f=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],i=t[1],o=Object(a.useRef)(null),c=function(){return i(!0)},s=function(){return i(!1)};return Object(a.useEffect)((function(){var e=o.current;if(e)return e.addEventListener("mouseover",c),e.addEventListener("mouseout",s),function(){e.removeEventListener("mouseover",c),e.removeEventListener("mouseout",s)}}),[]),[o,n]}(),v=Object(r.a)(f,2),h=v[0],O=v[1],x=l?.4:O?.15:0;return Object(u.jsx)(c.a,Object(i.a)(Object(i.a)({style:Object(i.a)({color:null===n||void 0===n?void 0:n.fade(x).toString()},d),ref:h,disabled:l},j),{},{children:b}))}},47:function(e,t,n){"use strict";function i(e,t){return Math.floor(Math.random()*(t-e)+e)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(14),o=n(1);function a(){var e=Object(o.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(r.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){function e(){i({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(11),r=n(2),o=n(5),a=n(9),c=n(91),s=n(18),u=function(){function e(t){Object(r.a)(this,e),this.render=t,this.state0=[],this.state=[],this.t=0,this.pathingDepth=5e3,this.pathingStepSize=.001,this.bodyIdCounter=0,this.addBody({x0:new a.Vector3(0,0,0),v0:new a.Vector3(0,0,-.12),m:100}),this.addBody({x0:new a.Vector3(2.03,0,0),v0:new a.Vector3(0,3,6),m:1}),this.addBody({x0:new a.Vector3(1.97,0,0),v0:new a.Vector3(0,-3,6),m:1}),this.setToInitialState(),this.calculatePaths(),Object(c.a)(this)}return Object(o.a)(e,[{key:"addBody",value:function(e){this.state0.push(Object(i.a)(Object(i.a)({x0:new a.Vector3(0,0,0),v0:new a.Vector3(0,0,0),m:0,color:s.c.random(),frameFollows:!1},e),{},{id:"b".concat(this.bodyIdCounter)})),this.bodyIdCounter+=1}},{key:"removeBody",value:function(e){this.state0=this.state0.filter((function(t){return t.id!==e}))}},{key:"setInitial",value:function(e,t,n){var i=this.state0.find((function(e){return e.id===t}));i&&(i[e]=n)}},{key:"update",value:function(){this.setToInitialState(),this.calculatePaths(),this.render()}},{key:"setToInitialState",value:function(){this.state=this.state0.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{x:e.x0,v:e.v0,path:[]})}))}},{key:"calculatePaths",value:function(){for(var e,t,n,i=this.state.map((function(e){return{x:e.x.clone(),v:e.v.clone(),m:e.m}})),r=new a.Vector3(0,0,0),o=new a.Vector3(0,0,0),c=0;c<this.pathingDepth;c++){for(var s=0;s<i.length;s++)for(var u=s+1;u<i.length;u++)r.copy(i[u].x).sub(i[s].x),0!=(t=r.length())&&(e=1*this.pathingStepSize/(t*t),r.normalize().multiplyScalar(e*i[u].m),i[s].v.add(r),r.normalize().multiplyScalar(-e*i[s].m),i[u].v.add(r));o.setLength(0),n=0;for(var l=0;l<i.length;l++)r.copy(i[l].v).multiplyScalar(this.pathingStepSize),i[l].x.add(r),this.state[l].frameFollows&&(o.add(i[l].x.clone().multiplyScalar(i[l].m)),n+=i[l].m);0!==n&&o.divideScalar(n);for(var d=0;d<i.length;d++)this.state[d].path.push(i[d].x.clone().sub(o))}}}]),e}()},81:function(e,t){},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var i=n(1),r=n(55),o=n(7),a=Object(i.createContext)(new r.a((function(){})));function c(e){var t=e.children,n=e.universe;return Object(o.jsx)(a.Provider,{value:n,children:t})}function s(){return Object(i.useContext)(a)}}},[[125,1,2]]]);
//# sourceMappingURL=main.e538aa0f.chunk.js.map