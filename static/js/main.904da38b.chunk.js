(this.webpackJsonpgravity=this.webpackJsonpgravity||[]).push([[0],{109:function(t,e,n){},117:function(t,e,n){},122:function(t,e,n){},127:function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i),o=n(24),a=n.n(o),s=(n(109),n(14)),c=n(15),l=n(9),u=n(18),h=n(7);function d(t){var e=t.points,n=t.color,r=void 0===n?u.c.random():n,o=Object(i.useRef)(new l.BufferGeometry).current;return o.setFromPoints(e),Object(h.jsx)("line_",{geometry:o,children:Object(h.jsx)("lineBasicMaterial",{attach:"material",color:r.toString(),linewidth:10,linecap:"round",linejoin:"round"})})}Object(c.h)({Line_:l.Line});var b=n(27);function f(){var t=Object(b.useUniverse)();return Object(h.jsx)(h.Fragment,{children:t.state.map((function(t){return Object(h.jsx)(d,{points:t.path,color:t.color},t.id)}))})}var v=n(57),j=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("ambientLight",{intensity:1})})},p=n(147);function g(t){var e=t.children;return Object(h.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0},children:Object(h.jsxs)(v.a,{style:{background:u.c.BLACK.toString()},camera:{position:[0,5,0]},shadows:!0,children:[Object(h.jsx)("gridHelper",{args:[20,20]}),Object(h.jsx)(j,{}),e,Object(h.jsx)(p.a,{autoRotate:!1})]})})}var O=n(21),x=n(22),m=n(96),y=n(48),S=n(37),w=n(30),_=n(35);function C(t){var e,n,i=t.label,r=t.value,o=t.onChange,a=t.style;return Object(h.jsxs)(w.a,{style:a,children:[Object(h.jsx)(_.a,{label:i}),Object(h.jsx)(S.a,{value:r,onChange:o,style:{width:null!==(e=null===a||void 0===a?void 0:a.width)&&void 0!==e?e:62,maxWidth:null!==(n=null===a||void 0===a?void 0:a.width)&&void 0!==n?n:62}})]})}var k,F=n(39),z=n(145),L=n(95);function I(t){var e=t.bodyId,n=t.style,r=Object(b.useUniverse)(),o=Object(i.useCallback)((function(){r.removeBody(e),r.update()}),[r]);return Object(h.jsx)(F.a,{onClick:o,style:n,children:Object(h.jsx)(z.a,{title:"Remove body",children:Object(h.jsx)("div",{children:Object(h.jsx)(L.c,{size:16})})})})}function E(t){var e,n=t.body,i=t.index,r=Object(b.useUniverse)();return Object(h.jsxs)(T,{children:[Object(h.jsxs)(u.e,{style:{justifyContent:"space-between"},children:[Object(h.jsxs)(u.e,{style:{gap:4},children:[Object(h.jsx)(C,{label:"Name",value:null!==(e=n.name)&&void 0!==e?e:"Body ".concat(i+1),onChange:function(t){n.name=t.replace(/[_*]/,""),r.setInitial("name",n.id,t),r.render()}}),Object(h.jsx)(u.b,{label:"Color",value:n.color,onChange:function(t){n.color=t,r.setInitial("color",n.id,t),r.render()}})]}),Object(h.jsx)(I,{bodyId:n.id})]}),Object(h.jsx)(u.f,{label:"Position",value:n.x,onSubmitOrBlur:r.update}),Object(h.jsx)(u.f,{label:"Velocity",value:n.v,onSubmitOrBlur:r.update}),Object(h.jsxs)(u.e,{style:{gap:4},children:[Object(h.jsx)(u.d,{label:"Mass",value:n.m,onSubmitOrBlur:function(t){r.setInitial("m",n.id,t),r.update()}}),Object(h.jsx)(z.a,{title:"The frame of reference follows the center of mass of selected bodies",enterDelay:600,enterNextDelay:400,children:Object(h.jsx)("div",{children:Object(h.jsx)(u.a,{label:"Frame",value:n.frameFollows,onChange:function(t){r.setInitial("frameFollows",n.id,t),r.update()}})})})]})]})}var U,B,T=x.a.div(k||(k=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin-left: 8px;\n"])));function P(){var t=Object(b.useUniverse)(),e=Object(i.useCallback)((function(){t.addBody(),t.update()}),[]);return Object(h.jsx)(F.a,{onClick:e,style:{},children:Object(h.jsx)(z.a,{title:"Add new body",children:Object(h.jsx)("div",{children:Object(h.jsx)(L.a,{})})})})}function D(){var t=Object(b.useUniverse)();return Object(h.jsxs)(M,{style:{color:u.c.LIGHT.toString(),fontSize:12},children:["Initial state:",t.state.map((function(t,e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(E,{body:t,index:e},t.id),Object(h.jsx)(R,{},t.id+"separator")]})})),Object(h.jsx)(P,{},"add_body")]})}var G,H,M=x.a.div(U||(U=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),R=x.a.div(B||(B=Object(O.a)(["\n  border-bottom: 1px solid ",";\n  align-self: stretch;\n  margin-left: 40px;\n  margin-right: 40px;\n"])),u.c.LIGHT.fade(.5).toString());function V(){var t=Object(b.useUniverse)();return Object(h.jsxs)(A,{style:{color:u.c.LIGHT.toString(),fontSize:12},children:["Path extrapolation parameters:",Object(h.jsxs)(K,{children:[Object(h.jsx)(u.d,{label:"Step count",value:t.pathingDepth,onSubmitOrBlur:function(e){t.pathingDepth=e,t.update()}}),Object(h.jsx)(u.d,{label:"Step size",value:t.pathingStepSize,onSubmitOrBlur:function(e){t.pathingStepSize=e,t.update()}})]})]})}var W,A=x.a.div(G||(G=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),K=Object(x.a)(u.e)(H||(H=Object(O.a)(["\n  gap: 4px;\n  margin-left: 8px;\n"])));function N(){var t=Object(y.b)().height,e=Object(i.useState)(!0),n=Object(s.a)(e,2),r=n[0],o=n[1];return r?Object(h.jsxs)(X,{style:{maxHeight:t-88},children:[Object(h.jsx)(F.a,{onClick:function(){return o(!1)},style:{position:"absolute",top:0,right:0},children:Object(h.jsx)(L.b,{})}),Object(h.jsx)(D,{}),Object(h.jsx)(V,{})]}):Object(h.jsx)(F.a,{onClick:function(){return o(!0)},style:{position:"absolute",top:16,right:16},children:Object(h.jsx)(m.a,{})})}var X=x.a.div(W||(W=Object(O.a)(["\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  width: 240px;\n  min-height: 100px;\n  background-color: ",";\n  border: 1px solid ",";\n  overflow-y: auto;\n  overflow-x: auto;\n  scroll-behaviour: smooth;\n  padding: 12px;\n  padding-bottom: 40px;\n  padding-top: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 32px;\n"])),u.c.DARK.toString(),u.c.LIGHT.toString());var Y=function(){var t=Object(i.useState)(!1),e=Object(s.a)(t,2),n=(e[0],e[1]),r=Object(i.useCallback)((function(){return n((function(t){return!t}))}),[]),o=Object(i.useState)((function(){return new b.Universe(r)})),a=Object(s.a)(o,1)[0];return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(b.UniverseContextProvider,{universe:a,children:[Object(h.jsx)(g,{children:Object(h.jsx)(f,{})}),Object(h.jsx)(N,{})]})})};a.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(Y,{})}),document.getElementById("root"))},18:function(t,e,n){"use strict";n.d(e,"c",(function(){return i.a})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return g})),n.d(e,"f",(function(){return _})),n.d(e,"d",(function(){return C})),n.d(e,"e",(function(){return S}));var i=n(31),r=n(1),o=(n(117),n(30)),a=n(35),s=n(7);function c(t){var e=t.label,n=t.value,r=t.onChange,c=t.style;return Object(s.jsxs)(o.a,{style:c,children:[Object(s.jsx)(a.a,{label:e}),Object(s.jsx)("input",{type:"checkbox",checked:n,onChange:function(t){return r(t.target.checked)},style:{backgroundColor:i.a.DARK.toString(),color:"red",accentColor:"green"}})]})}var l,u,h=n(21),d=n(14),b=n(33),f=n.n(b),v=n(91),j=n(22),p=n(39);function g(t){var e=t.label,n=t.value,i=t.onChange,c=t.style,l=Object(r.useState)(!1),u=Object(d.a)(l,2),h=u[0],b=u[1],j=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t=function(t){"Escape"===t.key&&b(!1)};window.addEventListener("keydown",t);var e=function(t){j.current&&!j.current.contains(t.target)&&b(!1)};return window.addEventListener("mousedown",e),function(){window.removeEventListener("keydown",t),window.removeEventListener("mousedown",e)}}),[j,b]),Object(s.jsxs)(o.a,{style:c,children:[Object(s.jsx)(a.a,{label:e}),Object(s.jsx)(p.a,{onClick:function(){return b((function(t){return!t}))},style:{marginBottom:-8,marginTop:-4,marginLeft:-4},children:Object(s.jsx)(x,{style:{backgroundColor:n.toString()}})}),Object(s.jsx)(m,{children:h&&Object(s.jsx)("div",{ref:j,style:{position:"absolute",left:-60,zIndex:1},children:Object(s.jsx)(v.a,{color:n.hex(),onChange:function(t){t.includes("NaN")||i(f()(t))}})})})]})}var O,x=j.a.div(l||(l=Object(h.a)(["\n  width: 12px;\n  height: 12px;\n"]))),m=j.a.div(u||(u=Object(h.a)(["\n  width: 1px;\n  height: 1px;\n  overflow: visible;\n  position: relative;\n"]))),y=n(37),S=j.a.div(O||(O=Object(h.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),w=n(41);function _(t){var e=t.label,n=t.value,i=t.onSubmitOrBlur,c=t.style,l=Object(r.useState)(n.x.toString()),u=Object(d.a)(l,2),h=u[0],b=u[1],f=Object(r.useState)(n.y.toString()),v=Object(d.a)(f,2),j=v[0],p=v[1],g=Object(r.useState)(n.z.toString()),O=Object(d.a)(g,2),x=O[0],m=O[1];Object(r.useEffect)((function(){h!=n.x.toString()&&b(n.x.toString()),j!=n.y.toString()&&p(n.y.toString()),x!=n.z.toString()&&m(n.z.toString())}),[n.x,n.y,n.z]);var _=Object(r.useCallback)((function(){b(h||"0"),p(j||"0"),m(x||"0"),n.setX(parseFloat(h||"0")),n.setY(parseFloat(j||"0")),n.setZ(parseFloat(x||"0")),i(n)}),[n,h,j,x,b,p,m]);return Object(s.jsxs)(o.a,{style:c,children:[Object(s.jsx)(a.a,{label:e+" (x, y, z)"}),Object(s.jsxs)(S,{children:[Object(s.jsx)(y.a,{value:h,onChange:function(t){b(Object(w.a)(t))},onSubmit:_,onBlur:_,style:{width:62,maxWidth:62}}),Object(s.jsx)(y.a,{value:j,onChange:function(t){p(Object(w.a)(t))},onSubmit:_,onBlur:_,style:{marginLeft:4,width:62,maxWidth:62}}),Object(s.jsx)(y.a,{value:x,onChange:function(t){m(Object(w.a)(t))},onSubmit:_,onBlur:_,style:{marginLeft:4,width:62,maxWidth:62}})]})]})}function C(t){var e,n,i=t.label,c=t.value,l=t.onSubmitOrBlur,u=t.style,h=Object(r.useState)(c.toString()),b=Object(d.a)(h,2),f=b[0],v=b[1];Object(r.useEffect)((function(){f!=c.toString()&&v(c.toString())}),[c]);var j=Object(r.useCallback)((function(){v(f||"0"),l(parseFloat(f||"0"))}),[c,f,v]);return Object(s.jsxs)(o.a,{style:u,children:[Object(s.jsx)(a.a,{label:i}),Object(s.jsx)(y.a,{value:f,onChange:function(t){v(Object(w.a)(t))},onSubmit:j,onBlur:j,style:{width:null!==(e=null===u||void 0===u?void 0:u.width)&&void 0!==e?e:62,maxWidth:null!==(n=null===u||void 0===u?void 0:u.width)&&void 0!==n?n:62}})]})}},27:function(t,e,n){"use strict";var i=n(82);n.o(i,"Universe")&&n.d(e,"Universe",(function(){return i.Universe})),n.o(i,"UniverseContextProvider")&&n.d(e,"UniverseContextProvider",(function(){return i.UniverseContextProvider})),n.o(i,"useUniverse")&&n.d(e,"useUniverse",(function(){return i.useUniverse}));var r=n(56);n.d(e,"Universe",(function(){return r.a}));var o=n(83);n.d(e,"UniverseContextProvider",(function(){return o.a})),n.d(e,"useUniverse",(function(){return o.b}))},30:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i,r=n(21),o=n(22).a.div(i||(i=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n"])))},31:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(33),r=n.n(i),o=n(48),a={BLACK:r()("#000000"),DARK:r()("#101113"),LIGHT_GREY:r()("#8C8D8F"),LIGHT:r()("#DCDDDF"),WHITE:r()("#FFFFFF"),random:function(){return r.a.hsv(Object(o.a)(0,360),Object(o.a)(50,100),Object(o.a)(50,100))}}},35:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i,r=n(21),o=(n(1),n(22)),a=n(31),s=n(7);function c(t){var e=t.label;return e?Object(s.jsx)(l,{children:e}):null}var l=o.a.div(i||(i=Object(r.a)(["\n  color: ",";\n  font-size: 10px;\n"])),a.a.LIGHT.toString())},37:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(11),r=n(1),o=(n(122),n(31)),a=n(7);function s(t){var e=t.value,n=t.onChange,s=t.style,c=t.focusFirstRender,l=t.onSubmit,u=t.onBlur,h=t.ariaLabel,d=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t;c&&(null===(t=d.current)||void 0===t||t.focus())}),[]),Object(a.jsx)("input",{ref:d,value:e,className:"input",onChange:function(t){n(t.target.value)},onBlur:u,onKeyDown:function(t){"Enter"===t.key&&(null===l||void 0===l||l())},"aria-label":h,style:Object(i.a)({flex:1,backgroundColor:o.a.DARK.toString(),borderColor:o.a.LIGHT_GREY.toString(),color:o.a.LIGHT.toString()},s)})}},39:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(11),r=n(14),o=n(28),a=n(1),s=n(146);var c=n(31),l=n(7);function u(t){var e=t.color,n=void 0===e?c.a.LIGHT:e,u=t.disabled,h=t.style,d=t.children,b=Object(o.a)(t,["color","disabled","style","children"]),f=function(){var t=Object(a.useState)(!1),e=Object(r.a)(t,2),n=e[0],i=e[1],o=Object(a.useRef)(null),s=function(){return i(!0)},c=function(){return i(!1)};return Object(a.useEffect)((function(){var t=o.current;if(t)return t.addEventListener("mouseover",s),t.addEventListener("mouseout",c),function(){t.removeEventListener("mouseover",s),t.removeEventListener("mouseout",c)}}),[]),[o,n]}(),v=Object(r.a)(f,2),j=v[0],p=v[1],g=u?.4:p?.15:0;return Object(l.jsx)(s.a,Object(i.a)(Object(i.a)({style:Object(i.a)({color:null===n||void 0===n?void 0:n.fade(g).toString()},h),ref:j,disabled:u},b),{},{children:d}))}},41:function(t,e,n){"use strict";function i(t){if(!t)return t;var e="-"===t[0],n=t.replace(/[^0-9.]/g,"").split(".");return(e?"-":"")+(n.length>=2?n[0]+"."+n.slice(1).join(""):n[0])}n.d(e,"a",(function(){return i}))},48:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));n(41);function i(t,e){return Math.floor(Math.random()*(e-t)+t)}var r=n(14),o=n(1);function a(){var t=Object(o.useState)({width:window.innerWidth,height:window.innerHeight}),e=Object(r.a)(t,2),n=e[0],i=e[1];return Object(o.useEffect)((function(){function t(){i({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),n}},56:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var i=n(11),r=n(2),o=n(3),a=n(9),s=n(92),c=n(18),l=n(33),u=n.n(l);function h(t){var e;return[t.id,null!==(e=t.name)&&void 0!==e?e:"",t.color.hex(),t.x0.x.toString(),t.x0.y.toString(),t.x0.z.toString(),t.v0.x.toString(),t.v0.y.toString(),t.v0.z.toString(),t.m.toString(),(+t.frameFollows).toString()].join("_")}function d(t){var e=t.split("_");return{id:e[0],name:e[1]||void 0,color:u()(e[2]),x0:new a.Vector3(parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])),v0:new a.Vector3(parseFloat(e[6]),parseFloat(e[7]),parseFloat(e[8])),m:parseFloat(e[9]),frameFollows:Boolean(parseInt(e[10]))}}function b(t,e){return null!==t?parseFloat(t):e}var f=[{stateString:"b0__#23E422_0_0_0_-0.001_0_-0.191_100_0*b1__#0CF2CB_2.03_0_0_0_3_6_1_0*b2__#F74376_1.97_0_0_0_-3_6_1_0*b3__#9E0885_-2_1_0_0_0_7_1_0*b4__#82681F_-2_1_0.012_9_0_7_0.01_0"}],v=function(){function t(e){Object(r.a)(this,t),this.length=e,this.points=void 0,this.V=j.clone(),this.points=[];for(var n=0;n<e;n++)this.points.push(j.clone())}return Object(o.a)(t,[{key:"setToZero",value:function(){for(var t=0;t<this.points.length;t++)this.points[t].copy(j)}},{key:"setFrom",value:function(t,e){if(this.points.length<t.length)throw new Error("This system has size ".concat(this.points.length," so cannot hold ").concat(t.length," points"));for(var n=0;n<t.length;n++)this.points[n].copy(t[n][e]);return this}},{key:"copy",value:function(t){if(this.points.length<t.points.length)throw new Error("This system has size ".concat(this.points.length," so cannot hold ").concat(t.points.length," points"));for(var e=0;e<t.points.length;e++)this.points[e].copy(t.points[e]);return this}},{key:"add",value:function(t){if(this.points.length!=t.points.length)throw new Error("Systems of different size cannot be added. This size: ".concat(this.points.length,". Other size: ").concat(t.points.length));for(var e=0;e<this.points.length;e++)this.points[e].add(t.points[e]);return this}},{key:"addMultiple",value:function(t,e){if(this.points.length!=t.points.length)throw new Error("Systems of different size cannot be added. This size: ".concat(this.points.length,". Other size: ").concat(t.points.length));for(var n=0;n<this.points.length;n++)this.points[n].add(this.V.copy(t.points[n]).multiplyScalar(e));return this}},{key:"times",value:function(t){for(var e=0;e<this.points.length;e++)this.points[e].multiplyScalar(t);return this}},{key:"maxLength",value:function(){if(0===this.points.length)return 0;for(var t=this.points[0].length(),e=0;e<this.points.length;e++)t=Math.max(t,this.points[e].length());return t}}]),t}(),j=new a.Vector3(0,0,0);function p(t,e,n,i){if(t.length!=e.length||t.length!=n.length)throw new Error("positions, masses, and output must all be the same length");var r,o,a=g.clone();n.setToZero();for(var s=0;s<t.length;s++)for(var c=s+1;c<t.length;c++)a.copy(t.points[c]).sub(t.points[s]),0!=(r=a.length())&&(o=i/(r*r),a.normalize().multiplyScalar(o*e[c]),n.points[s].add(a),a.normalize().multiplyScalar(-o*e[s]),n.points[c].add(a))}var g=new a.Vector3(0,0,0),O=n(19);var x=new a.Vector3(0,0,0),m=function(){function t(e,n,i){Object(r.a)(this,t),this.maxXStep=n,this.G=i,this.x=void 0,this.v=void 0,this.m=void 0,this.paths=void 0,this.vMid=void 0,this.a=void 0,this.O=void 0,this.x=new v(e.length).setFrom(e,"x0"),this.v=new v(e.length).setFrom(e,"v0"),this.m=e.map((function(t){return t.m})),this.paths=e.map((function(t){return[t.x0]})),this.vMid=new v(e.length),this.a=new v(e.length),p(this.x,this.m,this.a,this.G),this.O=new a.Vector3(0,0,0)}return Object(o.a)(t,[{key:"path",value:function(t){for(var e=0;e<t;e++)this.step(),this.appendStateToPaths();return this}},{key:"getPaths",value:function(t){return function(t,e,n){if(0==e.length)return t;var i,r=t.map((function(){return[]})),o=0,a=Object(O.a)(e);try{for(a.s();!(i=a.n()).done;)o+=n[i.value]}catch(b){a.e(b)}finally{a.f()}for(var s=x.clone(),c=0;c<t[0].length;c++){s.copy(x);var l,u=Object(O.a)(e);try{for(u.s();!(l=u.n()).done;){var h=l.value;s.add(t[h][c].clone().multiplyScalar(n[h]))}}catch(b){u.e(b)}finally{u.f()}s.divideScalar(o);for(var d=0;d<t.length;d++)r[d].push(t[d][c].clone().sub(s))}return r}(this.paths,t,this.m)}},{key:"step",value:function(){var t=this.maxXStep/this.v.maxLength();this.vMid.copy(this.v).addMultiple(this.a,.5*t),this.x.addMultiple(this.vMid,t),p(this.x,this.m,this.a,this.G),this.v.copy(this.vMid).addMultiple(this.a,.5*t)}},{key:"appendStateToPaths",value:function(){for(var t=0;t<this.paths.length;t++)this.paths[t].push(this.x.points[t].clone())}}]),t}(),y=n(93),S=function(){function t(e){Object(r.a)(this,t),this.render=e,this.state0=[],this.state=[],this.t=0,this.pathingDepth=5e3,this.pathingStepSize=.001,this.bodyIdCounter=0,this.setFromUrl(),this.setToInitialState(),this.calculatePaths(),Object(s.a)(this)}return Object(o.a)(t,[{key:"addBody",value:function(t){this.state0.push(Object(i.a)(Object(i.a)({x0:new a.Vector3(0,0,0),v0:new a.Vector3(0,0,0),m:0,color:c.c.random(),frameFollows:!1},t),{},{id:"b".concat(this.bodyIdCounter)})),this.bodyIdCounter+=1,this.updateUrl()}},{key:"removeBody",value:function(t){this.state0=this.state0.filter((function(e){return e.id!==t})),this.updateUrl()}},{key:"setInitial",value:function(t,e,n){var i=this.state0.find((function(t){return t.id===e}));i&&(i[t]=n),this.updateUrl()}},{key:"updateUrl",value:function(){var t,e,n=new URL(window.location.toString());n.searchParams.set("bodies",(t=this.state0,e=h,t.map(e).join("*"))),n.searchParams.set("pathingStepSize",this.pathingStepSize.toString()),n.searchParams.set("pathingDepth",this.pathingDepth.toString()),window.history.pushState({},"",n)}},{key:"setInitialStateFromString",value:function(t){this.state0=function(t,e){var n;return null!==(n=null===t||void 0===t?void 0:t.split("*").map(e))&&void 0!==n?n:[]}(t,d),this.bodyIdCounter=this.state0.length}},{key:"setFromUrl",value:function(){var t=new URLSearchParams(window.location.search);this.setInitialStateFromString(t.get("bodies")),0===this.state0.length&&this.setInitialStateFromString(f[0].stateString),this.pathingStepSize=b(t.get("pathingStepSize"),3e-4),this.pathingDepth=b(t.get("pathingDepth"),1e5)}},{key:"update",value:function(){this.setToInitialState(),this.calculatePaths(),this.updateUrl(),this.render()}},{key:"setToInitialState",value:function(){this.state=this.state0.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{x:t.x0,v:t.v0,path:[]})}))}},{key:"calculatePaths",value:function(){var t=this;new m(this.state0,this.pathingStepSize,1).path(this.pathingDepth).getPaths(this.state0.map((function(t,e){return t.frameFollows?e:void 0})).filter(y.isPresent)).forEach((function(e,n){t.state[n].path=e}))}}]),t}()},82:function(t,e){},83:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c}));var i=n(1),r=n(56),o=n(7),a=Object(i.createContext)(new r.a((function(){})));function s(t){var e=t.children,n=t.universe;return Object(o.jsx)(a.Provider,{value:n,children:e})}function c(){return Object(i.useContext)(a)}}},[[127,1,2]]]);
//# sourceMappingURL=main.904da38b.chunk.js.map