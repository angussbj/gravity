(this.webpackJsonpgravity=this.webpackJsonpgravity||[]).push([[0],{105:function(t,e,n){},113:function(t,e,n){},122:function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i),a=n(24),o=n.n(a),c=(n(105),n(14)),u=n(15),s=n(9),l=n(18),d=n(8);function b(t){var e=t.points,n=t.color,r=void 0===n?l.a.random():n,a=Object(i.useRef)(new s.BufferGeometry).current;return a.setFromPoints(e),Object(d.jsx)("line_",{geometry:a,children:Object(d.jsx)("lineBasicMaterial",{attach:"material",color:r.toString(),linewidth:10,linecap:"round",linejoin:"round"})})}Object(u.h)({Line_:s.Line});var j=n(27);function v(){var t=Object(j.useUniverse)();return Object(d.jsx)(d.Fragment,{children:t.state.map((function(t){return Object(d.jsx)(b,{points:t.path,color:t.color},t.id)}))})}var f=n(55),h=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("ambientLight",{intensity:1})})},O=n(142);function x(t){var e=t.children;return Object(d.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0},children:Object(d.jsxs)(f.a,{style:{background:l.a.BLACK.toString()},camera:{position:[0,5,0]},shadows:!0,children:[Object(d.jsx)("gridHelper",{args:[20,20]}),Object(d.jsx)(h,{}),e,Object(d.jsx)(O.a,{autoRotate:!1})]})})}var p=n(21),g=n(22),m=n(92),y=n(45),S=n(33),w=n(36),C=n(40);function B(t){var e,n,i=t.label,r=t.value,a=t.onChange,o=t.style;return Object(d.jsxs)(w.a,{style:o,children:[Object(d.jsx)(C.a,{label:i}),Object(d.jsx)(S.a,{value:r,onChange:a,style:{width:null!==(e=null===o||void 0===o?void 0:o.width)&&void 0!==e?e:62,maxWidth:null!==(n=null===o||void 0===o?void 0:o.width)&&void 0!==n?n:62}})]})}var I=n(11),k=n(28),L=n(141);var U=n(32);function z(t){var e=t.color,n=void 0===e?U.a.LIGHT:e,r=t.disabled,a=t.style,o=t.children,u=Object(k.a)(t,["color","disabled","style","children"]),s=function(){var t=Object(i.useState)(!1),e=Object(c.a)(t,2),n=e[0],r=e[1],a=Object(i.useRef)(null),o=function(){return r(!0)},u=function(){return r(!1)};return Object(i.useEffect)((function(){var t=a.current;if(t)return t.addEventListener("mouseover",o),t.addEventListener("mouseout",u),function(){t.removeEventListener("mouseover",o),t.removeEventListener("mouseout",u)}}),[]),[a,n]}(),l=Object(c.a)(s,2),b=l[0],j=l[1],v=r?.4:j?.15:0;return Object(d.jsx)(L.a,Object(I.a)(Object(I.a)({style:Object(I.a)({color:null===n||void 0===n?void 0:n.fade(v).toString()},a),ref:b,disabled:r},u),{},{children:o}))}var F,E,H=n(140),T=n(91);function D(t){var e=t.bodyId,n=t.style,r=Object(j.useUniverse)(),a=Object(i.useCallback)((function(){r.removeBody(e),r.update()}),[r]);return Object(d.jsx)(z,{onClick:a,style:n,children:Object(d.jsx)(H.a,{title:"Remove body",children:Object(d.jsx)("div",{children:Object(d.jsx)(T.c,{size:16})})})})}function P(t){var e,n=t.body,i=t.index,r=Object(j.useUniverse)();return Object(d.jsxs)(R,{children:[Object(d.jsxs)(l.c,{style:{justifyContent:"space-between"},children:[Object(d.jsxs)(l.c,{children:[Object(d.jsx)(B,{label:"Name",value:null!==(e=n.name)&&void 0!==e?e:"Body ".concat(i+1),onChange:function(t){n.name=t,r.setInitialName(n.id,t),r.render()}}),Object(d.jsx)(W,{style:{backgroundColor:n.color.toString()}})]}),Object(d.jsx)(D,{bodyId:n.id})]}),Object(d.jsx)(l.d,{label:"Position",value:n.x,onSubmitOrBlur:r.update}),Object(d.jsx)(l.d,{label:"Velocity",value:n.v,onSubmitOrBlur:r.update}),Object(d.jsx)(l.b,{label:"Mass",value:n.m,onSubmitOrBlur:function(t){r.setInitialMass(n.id,t),r.update()}})]},n.id)}var G,V,R=g.a.div(F||(F=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin-left: 8px;\n"]))),W=g.a.div(E||(E=Object(p.a)(["\n  width: 12px;\n  height: 12px;\n  margin-top: 10px;\n  margin-left: 12px;\n"])));function M(){var t=Object(j.useUniverse)(),e=Object(i.useCallback)((function(){t.addBody(),t.update()}),[]);return Object(d.jsx)(z,{onClick:e,style:{},children:Object(d.jsx)(H.a,{title:"Add new body",children:Object(d.jsx)("div",{children:Object(d.jsx)(T.a,{})})})})}function A(){var t=Object(j.useUniverse)();return Object(d.jsxs)(J,{style:{color:l.a.LIGHT.toString(),fontSize:12},children:["Initial state:",t.state.map((function(t,e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(P,{body:t,index:e}),Object(d.jsx)(_,{})]})})),Object(d.jsx)(M,{})]})}var K,N,J=g.a.div(G||(G=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),_=g.a.div(V||(V=Object(p.a)(["\n  border-bottom: 1px solid ",";\n  align-self: stretch;\n  margin-left: 40px;\n  margin-right: 40px;\n"])),l.a.LIGHT.fade(.5).toString());function X(){var t=Object(j.useUniverse)();return Object(d.jsxs)(Z,{style:{color:l.a.LIGHT.toString(),fontSize:12},children:["Path extrapolation parameters:",Object(d.jsxs)(q,{children:[Object(d.jsx)(l.b,{label:"Step count",value:t.pathingDepth,onSubmitOrBlur:function(e){t.pathingDepth=e,t.update()}}),Object(d.jsx)(l.b,{label:"Step size",value:t.pathingStepSize,onSubmitOrBlur:function(e){t.pathingStepSize=e,t.update()}})]})]})}var Y,Z=g.a.div(K||(K=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),q=Object(g.a)(l.c)(N||(N=Object(p.a)(["\n  gap: 4px;\n  margin-left: 8px;\n"])));function Q(){var t=Object(y.b)().height,e=Object(i.useState)(!0),n=Object(c.a)(e,2),r=n[0],a=n[1];return r?Object(d.jsxs)($,{style:{maxHeight:t-88},children:[Object(d.jsx)(z,{onClick:function(){return a(!1)},style:{position:"absolute",top:0,right:0},children:Object(d.jsx)(T.b,{})}),Object(d.jsx)(A,{}),Object(d.jsx)(X,{})]}):Object(d.jsx)(z,{onClick:function(){return a(!0)},style:{position:"absolute",top:16,right:16},children:Object(d.jsx)(m.a,{})})}var $=g.a.div(Y||(Y=Object(p.a)(["\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  width: 240px;\n  min-height: 100px;\n  background-color: ",";\n  border: 1px solid ",";\n  overflow-y: auto;\n  overflow-x: auto;\n  scroll-behaviour: smooth;\n  padding: 12px;\n  padding-bottom: 40px;\n  padding-top: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 32px;\n"])),l.a.DARK.toString(),l.a.LIGHT.toString());var tt=function(){var t=Object(i.useState)(!1),e=Object(c.a)(t,2),n=(e[0],e[1]),r=Object(i.useCallback)((function(){return n((function(t){return!t}))}),[]),a=Object(i.useState)((function(){return new j.Universe(r)})),o=Object(c.a)(a,1)[0];return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(j.UniverseContextProvider,{universe:o,children:[Object(d.jsx)(x,{children:Object(d.jsx)(v,{})}),Object(d.jsx)(Q,{})]})})};o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(tt,{})}),document.getElementById("root"))},18:function(t,e,n){"use strict";n.d(e,"a",(function(){return r.a})),n.d(e,"d",(function(){return v})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return s}));var i,r=n(32),a=n(33),o=n(14),c=n(1),u=n(21),s=n(22).a.div(i||(i=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"])));function l(t){if(!t)return t;var e="-"===t[0],n=t.replace(/[^0-9.]/g,"").split(".");return(e?"-":"")+(n.length>=2?n[0]+"."+n.slice(1).join(""):n[0])}var d=n(36),b=n(40),j=n(8);function v(t){var e=t.label,n=t.value,i=t.onSubmitOrBlur,r=t.style,u=Object(c.useState)(n.x.toString()),v=Object(o.a)(u,2),f=v[0],h=v[1],O=Object(c.useState)(n.y.toString()),x=Object(o.a)(O,2),p=x[0],g=x[1],m=Object(c.useState)(n.z.toString()),y=Object(o.a)(m,2),S=y[0],w=y[1];Object(c.useEffect)((function(){f!=n.x.toString()&&h(n.x.toString()),p!=n.y.toString()&&g(n.y.toString()),S!=n.z.toString()&&w(n.z.toString())}),[n.x,n.y,n.z]);var C=Object(c.useCallback)((function(){h(f||"0"),g(p||"0"),w(S||"0"),n.setX(parseFloat(f||"0")),n.setY(parseFloat(p||"0")),n.setZ(parseFloat(S||"0")),i(n)}),[n,f,p,S,h,g,w]);return Object(j.jsxs)(d.a,{style:r,children:[Object(j.jsx)(b.a,{label:e+" (x, y, z)"}),Object(j.jsxs)(s,{children:[Object(j.jsx)(a.a,{value:f,onChange:function(t){h(l(t))},onSubmit:C,onBlur:C,style:{width:62,maxWidth:62}}),Object(j.jsx)(a.a,{value:p,onChange:function(t){g(l(t))},onSubmit:C,onBlur:C,style:{marginLeft:4,width:62,maxWidth:62}}),Object(j.jsx)(a.a,{value:S,onChange:function(t){w(l(t))},onSubmit:C,onBlur:C,style:{marginLeft:4,width:62,maxWidth:62}})]})]})}function f(t){var e,n,i=t.label,r=t.value,u=t.onSubmitOrBlur,s=t.style,v=Object(c.useState)(r.toString()),f=Object(o.a)(v,2),h=f[0],O=f[1];Object(c.useEffect)((function(){h!=r.toString()&&O(r.toString())}),[r]);var x=Object(c.useCallback)((function(){O(h||"0"),u(parseFloat(h||"0"))}),[r,h,O]);return Object(j.jsxs)(d.a,{style:s,children:[Object(j.jsx)(b.a,{label:i}),Object(j.jsx)(a.a,{value:h,onChange:function(t){O(l(t))},onSubmit:x,onBlur:x,style:{width:null!==(e=null===s||void 0===s?void 0:s.width)&&void 0!==e?e:62,maxWidth:null!==(n=null===s||void 0===s?void 0:s.width)&&void 0!==n?n:62}})]})}},27:function(t,e,n){"use strict";var i=n(80);n.o(i,"Universe")&&n.d(e,"Universe",(function(){return i.Universe})),n.o(i,"UniverseContextProvider")&&n.d(e,"UniverseContextProvider",(function(){return i.UniverseContextProvider})),n.o(i,"useUniverse")&&n.d(e,"useUniverse",(function(){return i.useUniverse}));var r=n(54);n.d(e,"Universe",(function(){return r.a}));var a=n(81);n.d(e,"UniverseContextProvider",(function(){return a.a})),n.d(e,"useUniverse",(function(){return a.b}))},32:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(46),r=n.n(i),a=n(45),o={BLACK:r()("#000000"),DARK:r()("#101113"),LIGHT:r()("#DCDDDF"),WHITE:r()("#FFFFFF"),random:function(){return r.a.hsv(Object(a.a)(0,360),Object(a.a)(50,100),Object(a.a)(50,100))}}},33:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(11),r=n(1),a=(n(113),n(32)),o=n(8);function c(t){var e=t.value,n=t.onChange,c=t.style,u=t.focusFirstRender,s=t.onSubmit,l=t.onBlur,d=t.ariaLabel,b=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t;u&&(null===(t=b.current)||void 0===t||t.focus())}),[]),Object(o.jsx)("input",{ref:b,value:e,className:"input",onChange:function(t){n(t.target.value)},onBlur:l,onKeyDown:function(t){"Enter"===t.key&&(null===s||void 0===s||s())},"aria-label":d,style:Object(i.a)({flex:1,backgroundColor:a.a.DARK.toString(),borderColor:a.a.LIGHT.fade(.5).toString(),color:a.a.LIGHT.toString()},c)})}},36:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i,r=n(21),a=n(22).a.div(i||(i=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n"])))},40:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i,r=n(21),a=(n(1),n(22)),o=n(32),c=n(8);function u(t){var e=t.label;return e?Object(c.jsx)(s,{children:e}):null}var s=a.a.div(i||(i=Object(r.a)(["\n  color: ",";\n  font-size: 10px;\n"])),o.a.LIGHT.toString())},45:function(t,e,n){"use strict";function i(t,e){return Math.floor(Math.random()*(e-t)+t)}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n(14),a=n(1);function o(){var t=Object(a.useState)({width:window.innerWidth,height:window.innerHeight}),e=Object(r.a)(t,2),n=e[0],i=e[1];return Object(a.useEffect)((function(){function t(){i({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),n}},54:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(11),r=n(2),a=n(5),o=n(9),c=n(85),u=n(18),s=function(){function t(e){Object(r.a)(this,t),this.render=e,this.state0=[],this.state=[],this.t=0,this.pathingDepth=5e3,this.pathingStepSize=.001,this.bodyIdCounter=0,this.addBody({x0:new o.Vector3(0,0,0),v0:new o.Vector3(0,0,-.12),m:100}),this.addBody({x0:new o.Vector3(2.03,0,0),v0:new o.Vector3(0,3,6),m:1}),this.addBody({x0:new o.Vector3(1.97,0,0),v0:new o.Vector3(0,-3,6),m:1}),this.setToInitialState(),this.calculatePaths(),Object(c.a)(this)}return Object(a.a)(t,[{key:"addBody",value:function(t){this.state0.push(Object(i.a)(Object(i.a)({color:u.a.random()},t||{x0:new o.Vector3(0,0,0),v0:new o.Vector3(0,0,0),m:0}),{},{id:"b".concat(this.bodyIdCounter)})),this.bodyIdCounter+=1}},{key:"removeBody",value:function(t){this.state0=this.state0.filter((function(e){return e.id!==t}))}},{key:"setInitialMass",value:function(t,e){var n=this.state0.find((function(e){return e.id==t}));n&&(n.m=e)}},{key:"setInitialName",value:function(t,e){var n=this.state0.find((function(e){return e.id==t}));n&&(n.name=e)}},{key:"update",value:function(){this.setToInitialState(),this.calculatePaths(),this.render()}},{key:"setToInitialState",value:function(){this.state=this.state0.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{x:t.x0,v:t.v0,path:[t.x0]})}))}},{key:"calculatePaths",value:function(){for(var t,e,n=this.state.map((function(t){return{x:t.x.clone(),v:t.v.clone(),m:t.m}})),i=new o.Vector3(0,0,0),r=0;r<this.pathingDepth;r++){for(var a=0;a<n.length;a++)for(var c=a+1;c<n.length;c++)i.copy(n[c].x).sub(n[a].x),0!=(e=i.length())&&(t=1*this.pathingStepSize/(e*e),i.normalize().multiplyScalar(t*n[c].m),n[a].v.add(i),i.normalize().multiplyScalar(-t*n[a].m),n[c].v.add(i));for(var u=0;u<n.length;u++)i.copy(n[u].v).multiplyScalar(this.pathingStepSize),n[u].x.add(i),this.state[u].path.push(n[u].x.clone())}}}]),t}()},80:function(t,e){},81:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var i=n(1),r=n(54),a=n(8),o=Object(i.createContext)(new r.a((function(){})));function c(t){var e=t.children,n=t.universe;return Object(a.jsx)(o.Provider,{value:n,children:e})}function u(){return Object(i.useContext)(o)}}},[[122,1,2]]]);
//# sourceMappingURL=main.826c265e.chunk.js.map